<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Cactus Data Visualization</title>

  <!-- GOOGLE FONTS -->
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,500|Poppins:400,500,600,700|Roboto:400,500" rel="stylesheet"/>
  <link href="https://cdn.materialdesignicons.com/3.0.39/css/materialdesignicons.min.css" rel="stylesheet" />

  <!-- PLUGINS CSS STYLE -->
  <link href="assets/plugins/toaster/toastr.min.css" rel="stylesheet" />
  <link href="assets/plugins/flag-icons/css/flag-icon.min.css" rel="stylesheet"/>
  <link href="assets/plugins/select2/css/select2.min.css" rel="stylesheet" />

  <!-- SLEEK CSS -->
  <link id="sleek-css" rel="stylesheet" href="assets/css/sleek.css" />



  <!-- FAVICON -->
  <link href="assets/img/favicon.png" rel="shortcut icon" />

  <!--
    HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries
  -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->



  <script src="https://d3js.org/d3.v3.min.js"></script>
  <script src="https://d3js.org/d3.geo.projection.v0.min.js"></script>
  <script src="https://d3js.org/topojson.v1.min.js"></script>


  <style type=text/css>
  * { box-sizing: border-box; }
body {
  font: 16px Arial;
}
.autocomplete {
  /*the container must be positioned relative:*/
  position: relative;
  display: inline-block;
}
input {
  border: 1px solid transparent;
  background-color: #f1f1f1;
  padding: 10px;
  font-size: 16px;
}
input[type=text] {
  background-color: #f1f1f1;
  width: 100%;
}
input[type=submit] {
  background-color: DodgerBlue;
  color: #fff;
}
.autocomplete-items {
  position: absolute;
  border: 1px solid #d4d4d4;
  border-bottom: none;
  border-top: none;
  z-index: 99;
  /*position the autocomplete items to be the same width as the container:*/
  top: 100%;
  left: 0;
  right: 0;
}
.autocomplete-items div {
  padding: 10px;
  cursor: pointer;
  background-color: #fff;
  border-bottom: 1px solid #d4d4d4;
}
.autocomplete-items div:hover {
  /*when hovering an item:*/
  background-color: #e9e9e9;
}
.autocomplete-active {
  /*when navigating through the items using the arrow keys:*/
  background-color: DodgerBlue !important;
  color: #ffffff;
}
  </style>
  <style type="text/css">
  /*@media screen and (min-width: 500px) and (min-width: 500px){
     body {
        width:1200px;
        height: 800px;
        font: 11px sans-serif;
     }
  }*/

  .heading{
      position:absolute;
      left:450px;
      font: 40px sans-serif;
      color:rgb(143, 111, 22);
  }
  /* On mouse hover, lighten state color */
  path:hover {
      fill-opacity: .7;
  }

  /* Style for Custom Tooltip */
  div.tooltip {
   	position: absolute;
  	text-align: center;
  	width: auto;
  	height: auto;
  	padding: 4px;
  	font: 18px sans-serif;
  	background: white;
  	border: 0px;
  	border-radius: 8px;
  	pointer-events: none;
  }

  /* Legend Font Style */


  /* Legend Position Style */
  .legend {
      position:absolute;
      left:800px;
      top:350px;
  }
  .textentry {
      position  :absolute;
      top:       500px;  /* I usually locate relative to top  */
      left:      1200px; /* left corner of container (screen) */
      height:    20px;
      width: 300px;
      padding: 12px 20px;
      margin: 8px 0;
      display: inline-block;
      border: 2px solid #ccc;
      border-radius: 4px;
      box-sizing: border-box;
      font: 16px sans-serif;
          /*  often useful to keep screen orderly */
    }
    .speciesentry {
      position  :absolute;
      top:       480px;  /* I usually locate relative to top  */
      left:      1200px; /* left corner of container (screen) */
      height:    8px;  /*  often useful to keep screen orderly */
      font: 18px sans-serif;
      font-weight: bold;
    }
    .notify {
      position  :absolute;
      top:       530px;  /* I usually locate relative to top  */
      left:      1200px; /* left corner of container (screen) */
      height:    8px;  /*  often useful to keep screen orderly */
      font: 16px sans-serif;
      font-weight: bolder;
    }
    }

  </style>
</head>


  <body class="sidebar-fixed sidebar-dark header-light header-fixed" id="body">

    <div class="mobile-sticky-body-overlay"></div>

    <div class="wrapper">

              <!--
          ====================================
          ——— LEFT SIDEBAR WITH FOOTER
          =====================================
        -->
        <aside class="left-sidebar bg-sidebar">
          <div id="sidebar" class="sidebar sidebar-with-footer">
            <!-- Aplication Brand -->
            <div class="app-brand">
              <a href="/index.html">
                <svg
                  class="brand-icon"
                  xmlns="http://www.w3.org/2000/svg"
                  preserveAspectRatio="xMidYMid"
                  width="30"
                  height="33"
                  viewBox="0 0 30 33"
                >
                  <g fill="none" fill-rule="evenodd">
                    <path
                      class="logo-fill-blue"
                      fill="#7DBCFF"
                      d="M0 4v25l8 4V0zM22 4v25l8 4V0z"
                    />
                    <path class="logo-fill-white" fill="#FFF" d="M11 4v25l8 4V0z" />
                  </g>
                </svg>
                <span class="brand-name">Cacti Data</span>
              </a>
            </div>
            <!-- begin sidebar scrollbar -->
            <div class="sidebar-scrollbar">

              <!-- sidebar menu -->
              <ul class="nav sidebar-inner" id="sidebar-menu">

                  <li  class="has-sub" >
                    <a class="sidenav-item-link" href="javascript:void(0)" data-toggle="collapse" data-target="#pages"
                      aria-expanded="false" aria-controls="pages">
                      <i class="mdi mdi-image-filter-none"></i>
                      <span class="nav-text">Pages</span> <b class="caret"></b>
                    </a>
                    <ul  class="collapse"  id="pages"
                      data-parent="#sidebar-menu">
                      <div class="sub-menu">


                          <li >
                            <a class="sidenav-item-link" href="choropleth.html">
                              <span class="nav-text">Choropleth</span>

                            </a>
                          </li>

                          <li >
                            <a class="sidenav-item-link" href="temperature.html">
                              <span class="nav-text">Temperature Chart</span>

                            </a>
                          </li>

                          <li >
                            <a class="sidenav-item-link" href="zoompack.html">
                              <span class="nav-text">Zoomable Pack</span>

                            </a>
                          </li>

                          <li >
                            <a class="sidenav-item-link" href="wordcloud.html">
                              <span class="nav-text">Word Clouds</span>

                            </a>
                          </li>

                          <li  class="has-sub" >
                            <a class="sidenav-item-link" href="javascript:void(0)" data-toggle="collapse" data-target="#authentication"
                              aria-expanded="false" aria-controls="authentication">
                              <span class="nav-text">Word Clouds</span> <b class="caret"></b>
                            </a>
                            <ul  class="collapse"  id="authentication">
                              <div class="sub-menu">

                                <li >
                                  <a href="wordcloud-flower.html">Flower Producible</a>
                                </li>

                                <li >
                                  <a href="wordcloud-no-flower.html">Non Flower Producible</a>
                                </li>

                              </div>
                            </ul>
                          </li>

                            <li >
                              <a class="sidenav-item-link" href="documentation.html">
                                <span class="nav-text">Documentation</span>

                              </a>
                            </li>

                      </div>
                    </ul>
                  </li>



              </ul>

            </div>

          </div>
        </aside>



      <div class="page-wrapper">
                  <!-- Header -->
          <header class="main-header " id="header">
            <nav class="navbar navbar-static-top navbar-expand-lg">
              <!-- Sidebar toggle button -->
              <button id="sidebar-toggler" class="sidebar-toggle">
                <span class="sr-only">Toggle navigation</span>
              </button>
              <!-- search form -->
              <div class="search-form d-none d-lg-inline-block">
                  <h1>A Guide to Cacti in Americas</h1>
              </div>

            </nav>


          </header>


        <div class="content-wrapper">
          <div class="content">

              <div class="row">
                  <div class="col-md-12">


                            <!-- World Chart -->

                            <div class="card card-default" id="analytics-country">
                              <div class="card-header justify-content-between">
                                <h2>Cactus Distribution in the Americas</h2>


                                <div class="search-form d-none d-lg-inline-block">
                                  <div class="input-group">
                                    <button type="button" name="search" id="search-btn" class="btn btn-flat">
                                      <i class="mdi mdi-magnify"></i>
                                    </button>
                                    <!-- <form autocomplete="off" action="#" onsubmit="markLocationOnMap(this.value);marklocationrext(this.value)"> -->
                                      <div class="autocomplete" style="width:300px;">
                                        <input id="species" type="text" name="mySpecies"  onchange="markLocationOnMap(this.value);marklocationrext(this.value)" class="form-control" placeholder="Species name" autofocus autocomplete="off">
                                      </div>
                                      <!-- <input type="submit" id="btn-submit"> -->
                                    <!-- </form> -->
                                    <!-- <input type="text" id="species" onchange="markLocationOnMap(this.value);marklocationrext(this.value)" class="form-control" placeholder="Species name"
                                      autofocus autocomplete="off" /> -->
                                  </div>

                                  <!-- TODO: Implement Autocomplete search from:
                                  https://www.w3schools.com/howto/howto_js_autocomplete.asp -->

                                  <div id="search-results-container">
                                    <ul id="search-results"></ul>
                                  </div>
                                </div>


                              </div>
                              <!-- <div class="card-body vector-map-world-2"> -->
                              <div class="card-body">
                                <div id="cacti-dist" style="height: 100%; width: 100%;"></div>
                              </div>

                            </div>

  				</div>
              </div>

          </div>




        </div>

                  <footer class="footer mt-auto">
            <div class="copyright bg-white">
              <p>Project done for Dr. Sharon Hsiao's Class (CSE 578), Arizona State University
              </p>
            </div>
          </footer>

      </div>
    </div>


<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDCn8TFXGg17HAUcNpkwtxxyT9Io9B_NcM" defer></script>
<script src="assets/plugins/jquery/jquery.min.js"></script>
<script src="assets/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="assets/plugins/toaster/toastr.min.js"></script>
<script src="assets/plugins/slimscrollbar/jquery.slimscroll.min.js"></script>
<script src="assets/plugins/ladda/spin.min.js"></script>
<script src="assets/plugins/jquery-mask-input/jquery.mask.min.js"></script>
<script src="assets/plugins/select2/js/select2.min.js"></script>
<script src="assets/plugins/daterangepicker/moment.min.js"></script>
<script src="assets/plugins/daterangepicker/daterangepicker.js"></script>
<script src="assets/js/sleek.js"></script>
<script src="assets/js/custom.js"></script>



<script type="text/javascript">

/*  This visualization was made possible by modifying code provided by:

Scott Murray, Choropleth example from "Interactive Data Visualization for the Web"
https://github.com/alignedleft/d3-book/blob/master/chapter_12/05_choropleth.html

Malcolm Maclean, tooltips example tutorial
http://www.d3noob.org/2013/01/adding-tooltips-to-d3js-graph.html

Mike Bostock, Pie Chart Legend
http://bl.ocks.org/mbostock/3888852  */


//Width and height of map
var width = 2840/1.5;
var height = 2000/1.5;

// D3 Projection
var projection = d3.geo.albers().parallels([20, 50])
// var projection = d3.geo.equirectangular()
    // .translate([width / 2, height / 2]) // translate to center of screen
    .translate([width / 6, height / 6]) // translate to center of screen
    .scale([800/1.5]); // scale things down so see entire US

// Define path generator
var path = d3.geo.path() // path generator that will convert GeoJSON to SVG paths
    .projection(projection); // tell path generator to use albersUsa projection


// Define linear scale for output
var color = d3.scale.linear()
    .range(["rgb(213,222,217)", "rgb(69,173,168)", "rgb(84,36,55)", "rgb(217,91,67)"]);

var legendText = ["Cities Lived", "States Lived", "States Visited", "Nada"];

//Create SVG element and append map to the SVG
var svg = d3.select("#cacti-dist")
    .append("svg")
    .attr("width", width)
    .attr("height", height);

// Append Div for tooltip to SVG
var div = d3.select("#cacti-dist")
    .append("div")
    .attr("class", "tooltip")
    .style("opacity", 1);
var datt={}
// Load in my states data!
datt=d3.csv("test.csv", function(data) {
    color.domain([0, 1, 2, 3]); // setting the range of the input data

    // Load GeoJSON data and merge with states data
    // d3.json("us-states.json", function(json) {
    d3.json("americas.json", function(json) {

        // Loop through each state data value in the .csv file
        for (var i = 0; i < data.length; i++) {

            // Grab State Name
            var dataState = data[i].state;

            // Grab data value
            var dataValue = data[i].visited;

            // Find the corresponding state inside the GeoJSON
            for (var j = 0; j < json.features.length; j++) {
                var jsonState = json.features[j].properties.name;

                if (dataState == jsonState) {

                    // Copy the data value into the JSON
                    json.features[j].properties.visited = dataValue;

                    // Stop looking through the JSON
                    break;
                }
            }
        }

        // Bind the data to the SVG and create one path per GeoJSON feature
        svg.selectAll("path")
            .data(json.features)
            .enter()
            .append("path")
            .attr("d", path)
            .style("stroke", "#fff")
            .style("stroke-width", "1")
            .style("fill", function(d) {

                // Get data value
                var value = d.properties.visited;

                // if (value) {
                //     //If value exists…
                //     return color(value);
                // } else {
                    //If value is undefined…
                    return"rgb(211,211,211)";
                // }
            });

        // Map the cities I have lived in!
        datt=d3.csv("dataset.csv", function(data) {


            for (i = 0; i < data.length; i++) {
                //console.log(data[i]);
                datt[data[i].Species.replace(/ /g, "_").toLowerCase()]=data[i].Description;
                }
            svg.selectAll("circles")
                .data(data)

                .enter()
                .append("image")
                .filter(function(d){ return d.TRUE ==1; })
                .attr("id", function(d) {
                    return d.Species.replace(/ /g, "_").toLowerCase();})
                // .attr('xlink:href', 'redmarker.png')
                .attr('xlink:href', 'redmarker.png')
                .attr("x", function(d) {
                    // try {
                        return projection([d.lon, d.lat])[0]-20;
                    // } catch(e) {
                    //     return 0;
                    // }
                })
                .attr("y", function(d) {
                    // try {
                        return projection([d.lon, d.lat])[1]-20;
                    // } catch(e) {
                    //     return 0;
                    // }
                })

                .attr('width', 20)
                .attr('height', 20)


                // Modification of custom tooltip code provided by Malcolm Maclean, "D3 Tips and Tricks"
                // http://www.d3noob.org/2013/01/adding-tooltips-to-d3js-graph.html
                .on("click",function(d){
                    if (d.Predict==0){
                        alert("This is Flower");
                    }
                    else{
                        alert("This is flower reproducible");
                    }

                })

                .on("mouseover", function(d) {


                    div.transition()
                        .duration(200)
                        .style("opacity", .9);
                    div.text("Location: " + d.place)

                        .style("left", (d3.event.pageX) + "px")
                        .style("top", (d3.event.pageY - 28) + "px");
                    div.html("<p>Species: " + d.Species + "</p><p>Location: " + d.place + "</p></h1><ahref='http://en.wikipedia.org/wiki/Tombouctou_Region'><img  src=" + d.imag + " style=width:100px;height:120px; ></ahref><p id="+"demo"+"></p> ");
                    if (d.Description!=""){
                        document.getElementById("demo").innerHTML="Attributes"+d.Description;
                        //console.log(typeof d.Description);
                    }
                })

                // fade out tooltip on mouse out
                .on("mouseout", function(d) {
                    div.transition()
                        .duration(500)
                        .style("opacity", 0);
                });
                svg.selectAll("circles")
                .data(data)

                .enter()
                .append("image")
                .attr("class","circle_")
              .filter(function(d){ return d.TRUE ==0; })
              .attr("id", function(d) {
                    return d.Species.replace(/ /g, "_").toLowerCase();})
            //   .attr('xlink:href', 'greenmarker.png')
              .attr('xlink:href', 'greenmarker.png')
                .attr("x", function(d) {
                    // try {
                        return projection([d.lon, d.lat])[0]-20;
                    // } catch(e) {
                    //     return 0;
                    // }
                })
                .attr("y", function(d) {
                    // try {
                        return projection([d.lon, d.lat])[1]-20;
                    // } catch(e) {
                    //     return 0;
                    // }
                })

                .attr('width', 20)
                .attr('height', 20)


                 .on("click",function(d){
                    if (d.Predict==0){
                        alert("This is Classified as Cactus with Flower");
                    }
                    else{
                        alert("This is Classified as Cactus without Flowers");
                    }

                })
                .on("mouseover", function(d) {
                    div.transition()
                        .duration(200)
                        .style("opacity", .9);
                    div.text("Location: " + d.place)

                        .style("left", (d3.event.pageX) + "px")
                        .style("top", (d3.event.pageY - 28) + "px");
                    div.html("<p>Species: " + d.Species + "</p><p>Location: " + d.place + "</p></h1><ahref='http://en.wikipedia.org/wiki/Tombouctou_Region'><img  src=" + d.imag + " style=width:100px;height:120px; ></ahref><p id="+"demo"+"></p> ");
                    if (d.Description!=""){
                        document.getElementById("demo").innerHTML="Attributes"+d.Description;
                        //console.log(typeof d.Description);
                    }
                })
                .on("mouseout", function(d) {
                    div.transition()
                        .duration(500)
                        .style("opacity", 0);
                })

         return datt;});

        // Modified Legend Code from Mike Bostock: http://bl.ocks.org/mbostock/3888852

    });

return datt;});
var datt=d3.csv("dataset.csv", function(data) {

            var datt={};

            for (i = 0; i < data.length; i++) {
                //console.log(data[i]);
                datt[data[i].Species.replace(/ /g, "_").toLowerCase()]=data[i].Description;
                }
                });






console.log(datt);
/*
Update the size and color of the marker circle on map.
*/
function markLocationOnMap(species_name,datt) {
    var elementId = "#".concat(species_name.replace(/ /g, "_").toLowerCase());
    //console.log(elementId)
    var circle = svg.selectAll(elementId);
    //console.log(circle)
    //var currentwidth = circle.attr("width");
    //console.log(currentwidth)
    //var currentheight = circle.attr("height");
    //var newwidht = currentwidth * 2;
   // var newheight=currentheight*2;
    console.log(species_name)
   //Sconsole.log(d)
    var l= (circle[0].length)

    if (l==0){
        console.log('noti')

        d3.select("p").text("Please check the Spelling")
        .transition()
        .duration(3000)
        .transition()
        .duration(3000)
        .text("")
        return
    }



    circle
        .transition()
        .duration(1500)
        .attr('width', 80)
        .attr('height', 80)
        .transition()
        .duration(1500)
        .attr('width', 20)
        .attr('height', 20) ;

    var elementId =" "




}
function marklocationrext(species_name){
}


var species = ["Maihueniopsis colorea", "Parodia schumanniana", "Mammillaria sheldonii", "Eriosyce heinrichiana", "Echinocereus sanpedroensis", "Mammillaria blossfeldiana var. blossfeldiana", "Miqueliopuntia miquelii", "Turbinicarpus horripilus", "Echinocereus bonkerae subsp. apachensis", "Mammillaria dioica subsp. estebanensis", "Mammillaria standleyi", "Mammillaria aureilanata", "Gymnocalycium schroederianum subsp. paucicostatum", "Ferocactus townsendianus var. townsendianus", "Eriosyce subgibbosa var. nigrihorrida", "Cylindropuntia chuckwallensis", "Opuntia rastrera", "Cylindropuntia acanthocarpa x C. spinosior", "Echinocereus chloranthus subsp. rhyolithensis", "Thelocactus leucacanthus subsp. schmollii", "Pereskia humboldtii var. humboldtii", "Opuntia soederstromiana", "Cylindropuntia x neoarbuscula", "Cylindropuntia davisii", "Opuntia spraguei", "Eriosyce taltalensis subsp. pygmaea", "Eriosyce curvispina var. tuberisulcata", "Cylindropuntia acanthocarpa var. coloradensis", "Epiphyllum phyllanthus var. hookeri", "Cylindropuntia x congesta", "Cumulopuntia boliviana", "Mammillaria multidigitata", "Echinocereus stolonifer", "Opuntia caracassana", "Opuntia chisosensis", "Cereus nashii", "Cylindropuntia x tetracantha", "Gymnocalycium ritterianum", "Echinocereus barthelowanus", "Cereus hildmannianus subsp. uruguayanus", "Grusonia wrightiana", "Mammillaria lenta", "Opuntia pachyrrhiza", "Echinocereus stolonifer subsp. stolonifer", "Ferocactus histrix", "Tunilla microdisca", "Opuntia elata", "Mammillaria erythrosperma", "Cylindropuntia delgadilloana", "Weberocereus rosei", "Eriosyce engleri", "Cleistocactus icosagonus", "Echinocereus triglochidiatus var. triglochidiatus", "Cylindropuntia hystrix", "Trichocereus thelegonus", "Rhipsalis baccifera subsp. baccifera", "Copiapoa tocopillana", "Ferocactus peninsulae var. townsendianus", "Eriosyce odieri subsp. odieri", "Grusonia reflexispina", "Echinocereus enneacanthus subsp. brevispinus", "Opuntia zuniensis", "Opuntia azurea var. diplopurpurea", "Opuntia robinsonii", "Cleistocactus hyalacanthus", "Maihueniopsis glomerata", "Opuntia karwinskiana", "Cereus gummosus", "Parodia concinna", "Echinocereus occidentalis", "Turbinicarpus pseudopectinatus", "Mammillaria backebergiana", "Pereskia lychnidiflora", "Echinocactus polycephalus var. polycephalus", "Eriosyce limariensis", "Cylindropuntia munzii", "Cylindropuntia imbricata var. imbricata", "Opuntia polyacantha var. hystericina", "Cylindropuntia californica var. parkeri", "Echinocereus websterianus", "Eriosyce odieri", "Echinopsis pampana", "Opuntia cylindrica", "Opuntia pinkavae", "Parodia ottonis", "Echinocereus adustus", "Echinocereus ferreirianus", "Eriosyce crispa var. totoralensis", "Parodia taratensis", "Echinopsis tegeleriana", "Leuchtenbergia principis", "Tephrocactus aoracanthus", "Cleistocactus sepium var. morleyanus", "Cylindropuntia ganderi var. catavinensis", "Opuntia nemoralis", "Stenocereus yunckeri", "Maihueniopsis nigrispina", "Opuntia guilanchi", "Ferocactus tiburonensis", "Opuntia engelmannii", "Cylindropuntia californica subsp. parkeri", "Maihueniopsis domeykoensis", "Opuntia curvispina", "Disocactus schrankii", "Echinocereus maritimus var. hancockii", "Disocactus nelsonii", "Cereus childsii", "Opuntia x rooneyi", "Opuntia penicilligera", "Eriosyce crispa var. huascensis", "Cylindropuntia x viridiflora", "Cereus diffusus", "Opuntia martiniana", "Mammillaria fraileana", "Opuntia x carstenii", "Echinocereus reichenbachii var. perbellus", "Opuntia superbospina", "Cereus repandus", "Opuntia decumbens", "Opuntia ochrocentra", "Cylindropuntia fosbergii", "Opuntia sphaerica", "Coryphantha vivipara var. vivipara", "Coryphantha longicornis", "Cylindropuntia thurberi", "Opuntia megarhiza", "Peniocereus marianus", "Rebutia fiebrigii", "Machaerocereus eruca", "Mammillaria heyderi subsp. heyderi", "Rhipsalis oblonga", "Cylindropuntia leptocaulis x whipplei", "Opuntia keyensis", "x Pacherocactus orcuttii", "Mammillaria saboae var. haudeana", "Grusonia densispina", "Harrisia gracilis", "Consolea spinosissima", "Mammillaria pottsii", "Eriosyce senilis subsp. coimasensis", "Pereskiopsis blakeana", "Mammillaria tezontle", "Grusonia vilis", "Opuntia bisetosa", "Opuntia macracantha", "Echinocereus stramineus var. stramineus", "Cereus pringlei", "Cylindropuntia californica var. californica", "Austrocylindropuntia subulata", "Echinocereus fitchii", "Mammillaria melanocentra", "Eriosyce krausii", "Cylindropuntia californica subsp. californica", "Copiapoa malletiana", "Opuntia abyssi", "Eriosyce villosa", "Acanthocereus subinermis", "Thelocactus hexaedrophorus", "Copiapoa humilis", "Cylindropuntia X campii", "Echinopsis chamaecereus", "Eriosyce garaventae", "Pilosocereus arrabidae", "Cylindropuntia ganderi subsp. ganderi", "Cylindropuntia leptocaulis x versicolor", "Brasiliopuntia brasiliensis", "Cylindropuntia tetracantha", "Gymnocalycium saglionis subsp. tilcarense", "Coleocephalocereus fluminensis", "Lepismium cruciforme", "Thelocactus leucacanthus", "Echinomastus intertextus var. dasyacanthus", "Austrocactus spiniflorus", "Echinocereus reichenbachii subsp. caespitosus", "Cochemiea pondii", "mammillaria crinita subsp. crinita", "Opuntia cymochila", "Echinocereus fendleri subsp. rectispinus", "Rhipsalis pulchra", "Melocactus praerupticola", "Echinopsis strigosa", "Opuntia repens", "Eriosyce villicumensis", "Ferocactus townsendianus var. santa-maria", "Mammillaria peninsularis", "Eriosyce pygmaea", "Opuntia dillenii", "Echinocereus primolanatus", "Opuntia phaeacantha var. spinosibacca", "Mammillaria grahamii subsp. grahamii", "Echinocereus viereckii", "Opuntia columbiana", "Cylindropuntia acanthocarpa var. acanthocarpa", "Ferocactus robustus", "Opuntia cordobensis", "Eriosyce sociabilis", "Echinocereus conoideus", "Eriosyce bulbocalyx", "Melocactus harlowii", "Cylindropuntia abyssi", "Echinocereus coccineus var. rosei", "Pereskiopsis porteri", "Cleistocactus leonensis", "Cylindropuntia lindsayi", "Ariocarpus fissuratus var. fissuratus", "Opuntia x occidentalis", "Mammillaria winterae", "Opuntia basilaris var. basilaris", "Opuntia salmiana", "Opuntia littoralis var. vaseyi", "Echinomastus warnockii", "Copiapoa taltalensis", "Opuntia spinosibacca", "Opuntia strigil", "Ferocactus cylindraceus subsp. eastwoodiae", "Eriosyce napina subsp. lembckei", "Mammillaria estebanensis", "Mammillaria rettigiana", "Melocactus curvispinus subsp. caesius", "Mammillaria yaquensis", "Cylindropuntia x kelvinensis", "Leptocereus quadricostatus", "Opuntia atropes", "Oreocereus hempelianus", "Echinocereus bristolii", "Cleistocactus sextonianus", "Hylocereus undatus", "Mammillaria voburnensis subsp. eichlamii", "Echinocereus pacificus subsp. pacificus", "Stenocereus alamosensis", "Mammillaria elongata", "Ferocactus pilosus", "Lepismium houlletianum", "Opuntia basilaris var. brachyclada", "Mammillaria armillata", "Selenicereus grandiflorus", "Echinocereus engelmannii var. acicularis", "Cylindropuntia imbricata subsp. argentea", "Eriosyce taltalensis subsp. pilispina", "Mammillaria fittkaui", "Echinocactus polycephalus", "Cylindropuntia ganderi var. ganderi", "Mammillaria hutchisoniana", "Cumulopuntia boliviana subsp. boliviana", "Mammillaria dixanthocentron", "Echinocereus engelmannii var. munzii", "Rhipsalis neves-armondii", "Neomammillaria peninsularis", "Mammillaria wagneriana", "Mammillaria candida", "Melocactus nagyi", "Echinocereus palmeri", "Echinocereus pulchellus subsp. pulchellus", "Dendrocereus nudiflorus", "Cylindropuntia californica subsp. rosarica", "Mammillaria moelleriana", "Ferocactus santa-maria", "Opuntia sanfelipensis", "Opuntia pittieri", "Mammillaria saboae", "Cylindropuntia molesta subsp. clavellina", "Opuntia lindheimeri var. lindheimeri", "Mammillaria gigantea", "Escobaria vivipara", "Eulychnia castanea", "Nyctocereus serpentinus", "Sclerocactus havasupaiensis", "Acanthocalycium klimpelianum", "Hylocereus purpusii", "Thelocactus conothelos", "Opuntia lasiacantha", "Opuntia engelmannii var. cuija", "Escobaria zilziana", "Eriosyce curvispina var. mutabilis", "Mammillaria lewisiana", "Epiphyllum hookeri", "Parodia erubescens", "Pelecyphora aselliformis", "Opuntia quimilo", "Echinocereus bonkerae", "Mammillaria mercadensis", "Opuntia x vaseyi", "Cumulopuntia sphaerica", "Melocactus peruvianus", "Opuntia antillana", "Cleistocactus laniceps", "Eriosyce crispa subsp. atroviridis", "Opuntia jaliscana", "Neolloydia matehualensis", "Opuntia ellisiana", "Echinocereus mombergerianus", "Opuntia lagunae", "Opuntia streptacantha", "Echinocereus bacanorensis", "Disocactus speciosus", "Austrocylindropuntia cylindrica", "Mila nealeana", "Opuntia x curvospina", "Echinocereus viridiflorus subsp. cylindricus", "Ferocactus cylindraceus subsp. tortulispinus", "Cleistocactus sepium var. ventimigliae", "Mammillaria albilanata subsp. albilanata", "Mammillaria perezdelarosae", "Echinopsis pentlandii", "Opuntia cespitosa", "Mammillaria formosa", "Acanthocereus occidentalis", "Opuntia mesacantha subsp. lata", "Echinomastus intertextus var. intertextus", "Eriosyce crispa var. carrizalensis", "Eriosyce odieri subsp. glabrescens", "Opuntia lata", "Aztekium hintonii", "Cereus hildmannianus", "Eriosyce strausiana", "Cephalocereus purpusii", "Ferocactus alamosanus var. alamosanus", "Mammillaria blossfeldiana var. shurliana", "Cylindropuntia thurberi subsp. alamosensis", "Opuntia pumila", "Mammillaria glassii", "Dendrocereus undulosus", "Gymnocalycium hybopleurum", "Parodia horstii", "Mammillaria schumannii", "Mammillaria angelensis", "Neomammillaria milleri", "Echinocereus rigidissimus var. rigidissimus", "Harrisia fernowii", "Ferocactus uncinatus", "Corryocactus brevistylus subsp. puquiensis", "Eriosyce subgibbosa subsp. clavata", "Ariocarpus fissuratus subsp. lloydii", "Cylindropuntia X deserta", "Cumulopuntia tortispina", "Blossfeldia liliputana", "Opuntia huajuapensis", "Opuntia cardenche", "Echinocereus viridiflorus var. chloranthus", "Cylindropuntia x fosbergii", "Grusonia bulbispina", "Copiapoa cinerea subsp. cinerea", "Harrisia tortuosa", "Eriosyce curvispina", "Echinopsis mamillosa", "Maihueniopsis leoncito", "Corynopuntia vilis", "Cylindropuntia alcahes subsp. alcahes", "Eriosyce occulta", "Mammillaria sempervivi", "Tunilla soehrensii", "Cephalocereus apicicephalium", "Opuntia x spinosibacca", "Astrophytum myriostigma var. myriostigma", "Opuntia deamii", "Mammillaria coahuilensis", "Coryphantha glanduligera", "Tephrocactus weberi", "Eriosyce heinrichiana subsp. intermedia", "Opuntia engelmannii var. flavispina", "Corynopuntia bulbispina", "Mammillaria winterae subsp. winterae", "Mammillaria mazatlanensis", "Eriosyce odieri var. monte-amargensis", "Echinocereus pacificus subsp. mombergerianus", "Polaskia chende", "Ancistrocactus tobuschii", "Ferocactus viridescens var. viridescens", "Opuntia calmalliana", "Cleistocactus winteri", "Opuntia megasperma var. orientalis", "Ferocactus gracilis subsp. gatesii", "Mammillaria grusonii", "Opuntia feroacantha", "Escontria chiotilla", "Opuntia megasperma", "Opuntia brasiliensis", "Echinocereus enneacanthus", "Echinocereus scheeri subsp. scheeri", "Echinocereus viridiflorus subsp. viridiflorus", "Echinocereus schmollii", "Selenicereus spinulosus", "Echinomastus johnsonii var. johnsonii", "Cylindropuntia multigeniculata", "Pygmaeocereus familiaris", "Echinocereus santaritensis subsp. santaritensis", "Copiapoa cinerea", "Pterocactus gonjianii", "Rhipsalis clavata", "Opuntia pescorvae", "Echinocereus dubius", "Echinopsis oxygona", "Mammillaria brandegeei", "Mila caespitosa", "Opuntia pubescens", "Tephrocactus molinensis", "Echinocereus triglochidiatus var. gurneyi", "Opuntia phaeacantha var. major", "Opuntia hitchcockii", "Cleistocactus sepium var. sepium", "Lepismium lumbricoides", "Mammillaria polythele", "Opuntia setispina", "Mammillaria orcuttii", "Selenicereus donkelaarii", "Echinopsis ferox", "Stenocereus thurberi var. thurberi", "Eriosyce marksiana var. lissocarpa", "Echinopsis lageniformis", "Opuntia atrispina", "Echinocereus stolonifer subsp. tayopensis", "Micropuntia pulchella", "Epiphyllum anguliger", "Opuntia puberula", "Pachycereus pringlei", "Echinocereus reichenbachii subsp. armatus", "Opuntia dejecta", "Melocactus bellavistensis", "Opuntia intricata", "Corryocactus brevistylus", "Echinopsis lamprochlora", "Eriosyce islayensis", "Echinocereus scheeri subsp. gentryi", "Parodia werdermanniana", "Cochemiea poselgeri", "Opuntia x columbiana", "Corryocactus brachypetalus", "Harrisia tetracantha", "Opuntia macrorhiza var. pottsii", "Echinocereus scheeri var. obscuriensis", "Disocactus amazonicus", "Cochemiea maritima", "Echinopsis spachiana", "Gymnocalycium horstii", "Eriosyce chilensis var. albidiflora", "Rhipsalis occidentalis", "Copiapoa fiedleriana", "Gymnocactus beguinii", "Cylindropuntia californica subsp. delgadilloana", "Mammillaria weingartiana", "Echinopsis huascha", "Turbinicarpus pseudomacrochele subsp. pseudomacrochele", "Copiapoa humilis subsp. variispinata", "Mammillaria gaumeri", "Opuntia quitensis", "Thelocactus tulensis", "Echinofossulocactus dichroacanthus", "Mammillaria swinglei", "Leptocereus wrightii", "Ferocactus gracilis subsp. coloratus", "Eriosyce marksiana", "Grusonia grahamii", "Turbinicarpus schmiedickeanus subsp. schwarzii", "Maihueniopsis atacamensis", "Echinopsis pamparuizii", "Ancistrocactus brevihamatus", "Parodia tabularis", "Cylindropuntia acanthocarpa subsp. thornberi", "Mammillaria gasseriana", "Copiapoa rupestris subsp. desertorum", "Opuntia anteojoensis", "Echinocereus engelmannii", "Cylindropuntia rosea", "Opuntia turgida", "Ferocactus latispinus subsp. spiralis", "Pilosocereus pachycladus", "Cylindropuntia imbricata var. argentea", "Thelocactus setispinus", "Austrocylindropuntia miquelii", "Hatiora cylindrica", "Ferocactus gracilis subsp. gracilis", "Coryphantha jaumavei", "Eriosyce taltalensis subsp. paucicostata", "Cylindropuntia kelvinensis", "Pereskiopsis rotundifolia", "Cylindropuntia bigelovii subsp. ciribe", "Ferocactus johnstonianus", "Echinocereus leucanthus", "Mammillaria pennispinosa", "Opuntia wilcoxii", "Echinocereus fendleri var. rectispinus", "Opuntia emoryi", "Pachgerocereus orcuttii", "Echinocereus coccineus subsp. rosei", "Echinocereus sciurus subsp. floresii", "Echinocereus longisetus", "Mammillaria brandegeei subsp. lewisiana", "Opuntia grandis", "Cylindropuntia molesta subsp. molesta", "Echinocereus pulchellus", "Echinocereus pentalophus subsp. leonensis", "Opuntia sulphurea", "Cylindropuntia californica var. rosarica", "Ancistrocactus pinkavanus", "Echinopsis formosa", "Copiapoa calderana", "Opuntia polyacantha var. juniperina", "Opuntia impedata", "Mammillaria bocasana subsp. bocasana", "Tephrocactus alexanderi", "Eriosyce subgibbosa subsp. subgibbosa", "Mammillaria wildii", "Echinocereus enneacanthus var. enneacanthus", "Coryphantha poselgeriana", "Opuntia leucotricha", "Echinopsis thelegona", "Stenocactus obvallatus", "Cylindropuntia cardenche", "Mammillaria heyderi subsp. gummifera", "Opuntia bravoana", "Cereus stellatus", "Eriosyce napina subsp. napina", "Pygmaeocereus bylesianus", "Copiapoa echinoides", "Echinocereus coccineus subsp. coccineus", "Maihueniopsis conoidea", "Opuntia x charlestonensis" ];


function autocomplete(inp, arr) {
  /*the autocomplete function takes two arguments,
  the text field element and an array of possible autocompleted values:*/
  var currentFocus;
  /*execute a function when someone writes in the text field:*/
  inp.addEventListener("input", function(e) {
      var a, b, i, val = this.value;
      /*close any already open lists of autocompleted values*/
      closeAllLists();
      if (!val) { return false;}
      currentFocus = -1;
      /*create a DIV element that will contain the items (values):*/
      a = document.createElement("DIV");
      a.setAttribute("id", this.id + "autocomplete-list");
      a.setAttribute("class", "autocomplete-items");
      /*append the DIV element as a child of the autocomplete container:*/
      this.parentNode.appendChild(a);
      /*for each item in the array...*/
      for (i = 0; i < arr.length; i++) {
        /*check if the item starts with the same letters as the text field value:*/
        if (arr[i].substr(0, val.length).toUpperCase() == val.toUpperCase()) {
          /*create a DIV element for each matching element:*/
          b = document.createElement("DIV");
          /*make the matching letters bold:*/
          b.innerHTML = "<strong>" + arr[i].substr(0, val.length) + "</strong>";
          b.innerHTML += arr[i].substr(val.length);
          /*insert a input field that will hold the current array item's value:*/
          b.innerHTML += "<input type='hidden' value='" + arr[i] + "'>";
          /*execute a function when someone clicks on the item value (DIV element):*/
              b.addEventListener("click", function(e) {
              /*insert the value for the autocomplete text field:*/
              inp.value = this.getElementsByTagName("input")[0].value;
              /*close the list of autocompleted values,
              (or any other open lists of autocompleted values:*/
              closeAllLists();
          });
          a.appendChild(b);
        }
      }
  });
  /*execute a function presses a key on the keyboard:*/
  inp.addEventListener("keydown", function(e) {
      var x = document.getElementById(this.id + "autocomplete-list");
      if (x) x = x.getElementsByTagName("div");
      if (e.keyCode == 40) {
        /*If the arrow DOWN key is pressed,
        increase the currentFocus variable:*/
        currentFocus++;
        /*and and make the current item more visible:*/
        addActive(x);
      } else if (e.keyCode == 38) { //up
        /*If the arrow UP key is pressed,
        decrease the currentFocus variable:*/
        currentFocus--;
        /*and and make the current item more visible:*/
        addActive(x);
      } else if (e.keyCode == 13) {
        /*If the ENTER key is pressed, prevent the form from being submitted,*/
        e.preventDefault();
        if (currentFocus > -1) {
          /*and simulate a click on the "active" item:*/
          if (x) x[currentFocus].click();
        }
      }
  });
  function addActive(x) {
    /*a function to classify an item as "active":*/
    if (!x) return false;
    /*start by removing the "active" class on all items:*/
    removeActive(x);
    if (currentFocus >= x.length) currentFocus = 0;
    if (currentFocus < 0) currentFocus = (x.length - 1);
    /*add class "autocomplete-active":*/
    x[currentFocus].classList.add("autocomplete-active");
  }
  function removeActive(x) {
    /*a function to remove the "active" class from all autocomplete items:*/
    for (var i = 0; i < x.length; i++) {
      x[i].classList.remove("autocomplete-active");
    }
  }
  function closeAllLists(elmnt) {
    /*close all autocomplete lists in the document,
    except the one passed as an argument:*/
    var x = document.getElementsByClassName("autocomplete-items");
    for (var i = 0; i < x.length; i++) {
      if (elmnt != x[i] && elmnt != inp) {
      x[i].parentNode.removeChild(x[i]);
    }
  }
}
/*execute a function when someone clicks in the document:*/
document.addEventListener("click", function (e) {
    closeAllLists(e.target);
});
}

// var input = document.getElementById("species");
//
// // Execute a function when the user releases a key on the keyboard
// input.addEventListener("keyup", function(event) {
//   // Number 13 is the "Enter" key on the keyboard
//   if (event.keyCode === 13) {
//     //   alert("enter pressed.")
//     // Cancel the default action, if needed
//     event.preventDefault();
//     // Trigger the button element with a click
//     document.getElementById("btn-submit").click();
//   }
// });

autocomplete(document.getElementById("species"), species);

</script>

  </body>
</html>
